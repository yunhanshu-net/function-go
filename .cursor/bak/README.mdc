# function-go 规则文档

本目录包含 function-go 框架的完整规则文档，用于指导大模型生成符合规范的代码。

## 文档列表

### 1. types.mdc - 数据类型与标签规范
- **用途**：定义 Go 结构体标签的使用规范
- **内容**：form 请求/响应结构体示例、table 结构体示例、基础类型映射
- **重点**：data 标签格式、search 标签收敛、组件使用场景

### 2. function-go项目说明.mdc - 框架介绍
- **用途**：框架核心能力介绍和快速开始指南
- **内容**：核心特性、form/table 函数示例、回调机制简介
- **重点**：自动建表、数据库集成、组件类型说明

### 3. table-functions.mdc - 表格函数详解
- **用途**：table 函数的完整使用指南
- **内容**：数据模型定义、搜索配置、权限控制、自动 CRUD
- **重点**：search 标签收敛、权限控制、实际应用示例

### 4. widget-tags.mdc - 组件标签规范
- **用途**：widget 标签的详细使用规范
- **内容**：各组件类型、参数说明、最佳实践
- **重点**：组件使用场景、参数配置、实际业务示例

### 5. callback-mechanism.mdc - 回调机制详解
- **用途**：回调函数的完整使用指南
- **内容**：OnPageLoad、OnInputFuzzyMap、OnApiCreated、AutoUpdateConfig、OnDryRun 回调详解
- **重点**：性能优化、错误处理、最佳实践

### 6. complex-data-types.mdc - 复杂数据类型与文件类型
- **用途**：复杂数据类型和文件类型的完整使用指南
- **内容**：list、form、文件上传下载
- **重点**：嵌套结构设计、文件处理最佳实践、实际业务示例

### 7. form-usage-scenarios.mdc - Form 函数使用场景
- **用途**：Form 函数的使用场景分类和最佳实践
- **内容**：工具函数分类、配置管理、数据库使用场景
- **重点**：避免业务系统示例、专注工具函数、实际应用场景

### 8. form-function-blueprint.mdc - Form 函数生成蓝图
- **用途**：Form 函数生成器的高层设计蓝图
- **内容**：API 调用生成器、多领域工具函数、生成方法分类
- **重点**：零代码生成、智能适配、扩展性强

### 9. common-errors-and-solutions.mdc - 常见错误与解决方案
- **用途**：记录代码审查和开发中的常见错误
- **内容**：代码审查错误、框架使用错误、数据库操作错误、结构体标签错误
- **重点**：错误分析、正确做法、预防措施

## 版本更新记录

### v1.4.0 (2024-01-22)
- **移除FunctionType配置**：简化框架使用，减少理解负担，所有函数默认使用动态类型
- **代码简化**：移除不必要的配置项，让开发者专注于业务逻辑

### v1.3.0 (2024-01-21)
- **新增常见错误文档**：记录代码审查和开发中的常见错误，提供解决方案和预防措施
- **错误分类完善**：涵盖代码审查、框架使用、数据库操作、结构体标签等各类错误
- **预防策略**：提供完整的错误预防策略和最佳实践

### v1.2.0 (2024-01-20)
- **新增复杂数据类型文档**：详细说明 list、form 的使用
- **新增文件类型文档**：完整介绍文件上传下载、处理流程、最佳实践
- **新增 Form 函数场景文档**：分类说明工具函数使用场景，避免业务系统示例
- **新增 Form 函数蓝图文档**：高层设计蓝图，包含 API 调用生成器等高级功能

### v1.1.0 (2024-01-15)
- **标签格式统一**：将所有 data 标签从 `type:xxx` 改为 `example:xxx`
- **search 标签收敛**：去除冗余条件，如 `in` 已包含 `eq`，`gte/lte` 已包含 `gt/lt`
- **组件使用场景明确**：明确标注 `file_upload`（仅请求）、`file_display`（仅响应）
- **文档结构优化**：简化冗长内容，突出核心用法

### v1.0.0 (2024-01-01)
- **初始版本**：创建基础规则文档
- **核心功能**：form/table 函数、组件标签、回调机制

## 使用指南

1. **新用户**：先阅读 `function-go项目说明.mdc` 了解框架核心能力
2. **开发表单**：参考 `types.mdc` 中的 form 结构体示例
3. **开发表格**：参考 `table-functions.mdc` 和 `types.mdc` 中的 table 结构体示例
4. **配置组件**：参考 `widget-tags.mdc` 了解各组件参数
5. **实现交互**：参考 `callback-mechanism.mdc` 实现动态功能
6. **复杂数据**：参考 `complex-data-types.mdc` 处理列表和嵌套表单
7. **文件处理**：参考 `complex-data-types.mdc` 中的文件类型部分
8. **工具函数**：参考 `form-usage-scenarios.mdc` 了解工具函数场景
9. **高级功能**：参考 `form-function-blueprint.mdc` 了解生成器蓝图
10. **错误预防**：参考 `common-errors-and-solutions.mdc` 避免常见错误

## 规范原则

- **标签格式统一**：所有示例代码使用最新的标签格式
- **搜索条件收敛**：避免冗余的搜索条件
- **组件场景明确**：明确区分请求/响应组件的使用场景
- **性能优先**：在保证功能的前提下优先考虑性能
- **用户体验**：提供清晰的错误提示和加载状态

## 贡献指南

如需更新文档，请遵循以下原则：
1. 保持标签格式的一致性
2. 收敛冗余的搜索条件
3. 明确组件的使用场景
4. 提供实际业务示例
5. 更新版本记录 